     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_sprintf
     7 00000000                                 	EXTERN	_io_hlt
     8 00000000                                 	EXTERN	_io_load_eflags
     9 00000000                                 	EXTERN	_io_cli
    10 00000000                                 	EXTERN	_io_out8
    11 00000000                                 	EXTERN	_io_store_eflags
    12 00000000                                 	EXTERN	_hankaku
    13 00000000                                 	EXTERN	_load_gdtr
    14 00000000                                 	EXTERN	_load_idtr
    15 00000000                                 [FILE "bootpack.c"]
    16                                          [SECTION .data]
    17 00000000                                 LC0:
    18 00000000 44 65 61 72 20 4E 61 67 69 73   	DB	"Dear Nagisa,",0x00
       0000000A 61 2C 00 
    19 0000000D                                 LC1:
    20 0000000D 48 61 76 65 20 61 20 4E 69 63   	DB	"Have a Nice Day!",0x00
       00000017 65 20 44 61 79 21 00 
    21 0000001E                                 LC2:
    22 0000001E 73 63 72 6E 78 20 3D 20 25 64   	DB	"scrnx = %d",0x00
       00000028 00 
    23 00000029                                 LC3:
    24 00000029 28 25 64 2C 20 25 64 29 00      	DB	"(%d, %d)",0x00
    25                                          [SECTION .text]
    26 00000000                                 	GLOBAL	_HariMain
    27 00000000                                 _HariMain:
    28 00000000 55                              	PUSH	EBP
    29 00000001 89 E5                           	MOV	EBP,ESP
    30 00000003 57                              	PUSH	EDI
    31 00000004 56                              	PUSH	ESI
    32 00000005 53                              	PUSH	EBX
    33 00000006 8D 9D FFFFFEC4                  	LEA	EBX,DWORD [-316+EBP]
    34 0000000C 81 EC 00000130                  	SUB	ESP,304
    35 00000012 E8 00000518                     	CALL	_init_gdtidt
    36 00000017 E8 00000139                     	CALL	_init_platte
    37 0000001C 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
    38 00000023 50                              	PUSH	EAX
    39 00000024 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    40 0000002B 50                              	PUSH	EAX
    41 0000002C FF 35 00000FF8                  	PUSH	DWORD [4088]
    42 00000032 E8 0000020A                     	CALL	_init_screen
    43 00000037 68 [00000000]                   	PUSH	LC0
    44 0000003C 6A 07                           	PUSH	7
    45 0000003E 6A 08                           	PUSH	8
    46 00000040 6A 08                           	PUSH	8
    47 00000042 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    48 00000049 50                              	PUSH	EAX
    49 0000004A FF 35 00000FF8                  	PUSH	DWORD [4088]
    50 00000050 E8 000003E5                     	CALL	_putfonts8_asc
    51 00000055 83 C4 24                        	ADD	ESP,36
    52 00000058 68 [0000000D]                   	PUSH	LC1
    53 0000005D 6A 00                           	PUSH	0
    54 0000005F 6A 1F                           	PUSH	31
    55 00000061 6A 1F                           	PUSH	31
    56 00000063 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    57 0000006A 50                              	PUSH	EAX
    58 0000006B FF 35 00000FF8                  	PUSH	DWORD [4088]
    59 00000071 E8 000003C4                     	CALL	_putfonts8_asc
    60 00000076 68 [0000000D]                   	PUSH	LC1
    61 0000007B 6A 08                           	PUSH	8
    62 0000007D 6A 1E                           	PUSH	30
    63 0000007F 6A 1E                           	PUSH	30
    64 00000081 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    65 00000088 50                              	PUSH	EAX
    66 00000089 FF 35 00000FF8                  	PUSH	DWORD [4088]
    67 0000008F E8 000003A6                     	CALL	_putfonts8_asc
    68 00000094 83 C4 30                        	ADD	ESP,48
    69 00000097 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    70 0000009E 50                              	PUSH	EAX
    71 0000009F 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
    72 000000A2 68 [0000001E]                   	PUSH	LC2
    73 000000A7 50                              	PUSH	EAX
    74 000000A8 E8 [00000000]                   	CALL	_sprintf
    75 000000AD 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
    76 000000B0 50                              	PUSH	EAX
    77 000000B1 6A 09                           	PUSH	9
    78 000000B3 6A 40                           	PUSH	64
    79 000000B5 6A 10                           	PUSH	16
    80 000000B7 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    81 000000BE 50                              	PUSH	EAX
    82 000000BF FF 35 00000FF8                  	PUSH	DWORD [4088]
    83 000000C5 E8 00000370                     	CALL	_putfonts8_asc
    84 000000CA 83 C4 24                        	ADD	ESP,36
    85 000000CD 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    86 000000D4 B9 00000002                     	MOV	ECX,2
    87 000000D9 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
    88 000000DC 89 D0                           	MOV	EAX,EDX
    89 000000DE 99                              	CDQ
    90 000000DF F7 F9                           	IDIV	ECX
    91 000000E1 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
    92 000000E8 83 EA 2C                        	SUB	EDX,44
    93 000000EB 89 C6                           	MOV	ESI,EAX
    94 000000ED 89 D0                           	MOV	EAX,EDX
    95 000000EF 6A 0E                           	PUSH	14
    96 000000F1 99                              	CDQ
    97 000000F2 F7 F9                           	IDIV	ECX
    98 000000F4 53                              	PUSH	EBX
    99 000000F5 89 C7                           	MOV	EDI,EAX
   100 000000F7 E8 0000038D                     	CALL	_init_mouse_cursor8
   101 000000FC 6A 10                           	PUSH	16
   102 000000FE 53                              	PUSH	EBX
   103 000000FF 57                              	PUSH	EDI
   104 00000100 56                              	PUSH	ESI
   105 00000101 6A 10                           	PUSH	16
   106 00000103 6A 10                           	PUSH	16
   107 00000105 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   108 0000010C 50                              	PUSH	EAX
   109 0000010D FF 35 00000FF8                  	PUSH	DWORD [4088]
   110 00000113 E8 000003C1                     	CALL	_putblock8_8
   111 00000118 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   112 0000011B 83 C4 28                        	ADD	ESP,40
   113 0000011E 57                              	PUSH	EDI
   114 0000011F 56                              	PUSH	ESI
   115 00000120 68 [00000029]                   	PUSH	LC3
   116 00000125 50                              	PUSH	EAX
   117 00000126 E8 [00000000]                   	CALL	_sprintf
   118 0000012B 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   119 0000012E 50                              	PUSH	EAX
   120 0000012F 6A 09                           	PUSH	9
   121 00000131 6A 0C                           	PUSH	12
   122 00000133 68 000000F0                     	PUSH	240
   123 00000138 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   124 0000013F 50                              	PUSH	EAX
   125 00000140 FF 35 00000FF8                  	PUSH	DWORD [4088]
   126 00000146 E8 000002EF                     	CALL	_putfonts8_asc
   127 0000014B 83 C4 28                        	ADD	ESP,40
   128 0000014E                                 L5:
   129 0000014E E8 [00000000]                   	CALL	_io_hlt
   130 00000153 EB F9                           	JMP	L5
   131                                          [SECTION .data]
   132 00000032                                 _table_rgb.0:
   133 00000032 00                              	DB	0
   134 00000033 00                              	DB	0
   135 00000034 00                              	DB	0
   136 00000035 FF                              	DB	-1
   137 00000036 00                              	DB	0
   138 00000037 00                              	DB	0
   139 00000038 00                              	DB	0
   140 00000039 FF                              	DB	-1
   141 0000003A 00                              	DB	0
   142 0000003B FF                              	DB	-1
   143 0000003C FF                              	DB	-1
   144 0000003D 00                              	DB	0
   145 0000003E 00                              	DB	0
   146 0000003F 00                              	DB	0
   147 00000040 FF                              	DB	-1
   148 00000041 FF                              	DB	-1
   149 00000042 00                              	DB	0
   150 00000043 FF                              	DB	-1
   151 00000044 00                              	DB	0
   152 00000045 FF                              	DB	-1
   153 00000046 FF                              	DB	-1
   154 00000047 FF                              	DB	-1
   155 00000048 FF                              	DB	-1
   156 00000049 FF                              	DB	-1
   157 0000004A C6                              	DB	-58
   158 0000004B C6                              	DB	-58
   159 0000004C C6                              	DB	-58
   160 0000004D 84                              	DB	-124
   161 0000004E 00                              	DB	0
   162 0000004F 00                              	DB	0
   163 00000050 00                              	DB	0
   164 00000051 84                              	DB	-124
   165 00000052 00                              	DB	0
   166 00000053 84                              	DB	-124
   167 00000054 84                              	DB	-124
   168 00000055 00                              	DB	0
   169 00000056 00                              	DB	0
   170 00000057 00                              	DB	0
   171 00000058 84                              	DB	-124
   172 00000059 84                              	DB	-124
   173 0000005A 00                              	DB	0
   174 0000005B 84                              	DB	-124
   175 0000005C 00                              	DB	0
   176 0000005D 84                              	DB	-124
   177 0000005E 84                              	DB	-124
   178 0000005F 84                              	DB	-124
   179 00000060 84                              	DB	-124
   180 00000061 84                              	DB	-124
   181                                          [SECTION .text]
   182 00000155                                 	GLOBAL	_init_platte
   183 00000155                                 _init_platte:
   184 00000155 55                              	PUSH	EBP
   185 00000156 89 E5                           	MOV	EBP,ESP
   186 00000158 68 [00000032]                   	PUSH	_table_rgb.0
   187 0000015D 6A 0F                           	PUSH	15
   188 0000015F 6A 00                           	PUSH	0
   189 00000161 E8 00000002                     	CALL	_set_platte
   190 00000166 C9                              	LEAVE
   191 00000167 C3                              	RET
   192 00000168                                 	GLOBAL	_set_platte
   193 00000168                                 _set_platte:
   194 00000168 55                              	PUSH	EBP
   195 00000169 89 E5                           	MOV	EBP,ESP
   196 0000016B 57                              	PUSH	EDI
   197 0000016C 56                              	PUSH	ESI
   198 0000016D 53                              	PUSH	EBX
   199 0000016E 51                              	PUSH	ECX
   200 0000016F 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   201 00000172 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   202 00000175 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   203 00000178 E8 [00000000]                   	CALL	_io_load_eflags
   204 0000017D 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   205 00000180 E8 [00000000]                   	CALL	_io_cli
   206 00000185 53                              	PUSH	EBX
   207 00000186 68 000003C8                     	PUSH	968
   208 0000018B E8 [00000000]                   	CALL	_io_out8
   209 00000190 39 FB                           	CMP	EBX,EDI
   210 00000192 58                              	POP	EAX
   211 00000193 5A                              	POP	EDX
   212 00000194 7E 12                           	JLE	L12
   213 00000196                                 L14:
   214 00000196 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   215 00000199 89 45 08                        	MOV	DWORD [8+EBP],EAX
   216 0000019C 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   217 0000019F 5B                              	POP	EBX
   218 000001A0 5E                              	POP	ESI
   219 000001A1 5F                              	POP	EDI
   220 000001A2 5D                              	POP	EBP
   221 000001A3 E9 [00000000]                   	JMP	_io_store_eflags
   222 000001A8                                 L12:
   223 000001A8 8A 06                           	MOV	AL,BYTE [ESI]
   224 000001AA 43                              	INC	EBX
   225 000001AB C0 E8 02                        	SHR	AL,2
   226 000001AE 0F B6 C0                        	MOVZX	EAX,AL
   227 000001B1 50                              	PUSH	EAX
   228 000001B2 68 000003C9                     	PUSH	969
   229 000001B7 E8 [00000000]                   	CALL	_io_out8
   230 000001BC 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   231 000001BF C0 E8 02                        	SHR	AL,2
   232 000001C2 0F B6 C0                        	MOVZX	EAX,AL
   233 000001C5 50                              	PUSH	EAX
   234 000001C6 68 000003C9                     	PUSH	969
   235 000001CB E8 [00000000]                   	CALL	_io_out8
   236 000001D0 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   237 000001D3 C0 E8 02                        	SHR	AL,2
   238 000001D6 83 C6 03                        	ADD	ESI,3
   239 000001D9 0F B6 C0                        	MOVZX	EAX,AL
   240 000001DC 50                              	PUSH	EAX
   241 000001DD 68 000003C9                     	PUSH	969
   242 000001E2 E8 [00000000]                   	CALL	_io_out8
   243 000001E7 83 C4 18                        	ADD	ESP,24
   244 000001EA 39 FB                           	CMP	EBX,EDI
   245 000001EC 7E BA                           	JLE	L12
   246 000001EE EB A6                           	JMP	L14
   247 000001F0                                 	GLOBAL	_boxfill8
   248 000001F0                                 _boxfill8:
   249 000001F0 55                              	PUSH	EBP
   250 000001F1 89 E5                           	MOV	EBP,ESP
   251 000001F3 57                              	PUSH	EDI
   252 000001F4 56                              	PUSH	ESI
   253 000001F5 53                              	PUSH	EBX
   254 000001F6 57                              	PUSH	EDI
   255 000001F7 57                              	PUSH	EDI
   256 000001F8 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   257 000001FB 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   258 000001FE 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   259 00000201 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   260 00000204 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   261 00000207 7F 31                           	JG	L27
   262 00000209 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   263 0000020C 0F AF D9                        	IMUL	EBX,ECX
   264 0000020F                                 L25:
   265 0000020F 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   266 00000212 39 FA                           	CMP	EDX,EDI
   267 00000214 7F 1B                           	JG	L29
   268 00000216 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   269 00000219 01 DE                           	ADD	ESI,EBX
   270 0000021B 01 D6                           	ADD	ESI,EDX
   271 0000021D 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   272 00000220                                 L24:
   273 00000220 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   274 00000223 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   275 00000226 42                              	INC	EDX
   276 00000227 88 06                           	MOV	BYTE [ESI],AL
   277 00000229 46                              	INC	ESI
   278 0000022A 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   279 0000022D 39 FA                           	CMP	EDX,EDI
   280 0000022F 7E EF                           	JLE	L24
   281 00000231                                 L29:
   282 00000231 41                              	INC	ECX
   283 00000232 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   284 00000235 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   285 00000238 7E D5                           	JLE	L25
   286 0000023A                                 L27:
   287 0000023A 5B                              	POP	EBX
   288 0000023B 5E                              	POP	ESI
   289 0000023C 5B                              	POP	EBX
   290 0000023D 5E                              	POP	ESI
   291 0000023E 5F                              	POP	EDI
   292 0000023F 5D                              	POP	EBP
   293 00000240 C3                              	RET
   294 00000241                                 	GLOBAL	_init_screen
   295 00000241                                 _init_screen:
   296 00000241 55                              	PUSH	EBP
   297 00000242 89 E5                           	MOV	EBP,ESP
   298 00000244 57                              	PUSH	EDI
   299 00000245 56                              	PUSH	ESI
   300 00000246 53                              	PUSH	EBX
   301 00000247 83 EC 0C                        	SUB	ESP,12
   302 0000024A 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   303 0000024D 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   304 00000250 83 E8 1C                        	SUB	EAX,28
   305 00000253 4F                              	DEC	EDI
   306 00000254 50                              	PUSH	EAX
   307 00000255 57                              	PUSH	EDI
   308 00000256 50                              	PUSH	EAX
   309 00000257 6A 00                           	PUSH	0
   310 00000259 6A 08                           	PUSH	8
   311 0000025B FF 75 0C                        	PUSH	DWORD [12+EBP]
   312 0000025E FF 75 08                        	PUSH	DWORD [8+EBP]
   313 00000261 E8 FFFFFF8A                     	CALL	_boxfill8
   314 00000266 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   315 00000269 83 E8 1B                        	SUB	EAX,27
   316 0000026C 50                              	PUSH	EAX
   317 0000026D 57                              	PUSH	EDI
   318 0000026E 50                              	PUSH	EAX
   319 0000026F 6A 00                           	PUSH	0
   320 00000271 6A 07                           	PUSH	7
   321 00000273 FF 75 0C                        	PUSH	DWORD [12+EBP]
   322 00000276 FF 75 08                        	PUSH	DWORD [8+EBP]
   323 00000279 E8 FFFFFF72                     	CALL	_boxfill8
   324 0000027E 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   325 00000281 83 C4 38                        	ADD	ESP,56
   326 00000284 48                              	DEC	EAX
   327 00000285 50                              	PUSH	EAX
   328 00000286 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   329 00000289 57                              	PUSH	EDI
   330 0000028A 83 E8 1A                        	SUB	EAX,26
   331 0000028D 50                              	PUSH	EAX
   332 0000028E 6A 00                           	PUSH	0
   333 00000290 6A 08                           	PUSH	8
   334 00000292 FF 75 0C                        	PUSH	DWORD [12+EBP]
   335 00000295 FF 75 08                        	PUSH	DWORD [8+EBP]
   336 00000298 E8 FFFFFF53                     	CALL	_boxfill8
   337 0000029D 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   338 000002A0 83 EE 18                        	SUB	ESI,24
   339 000002A3 56                              	PUSH	ESI
   340 000002A4 6A 3B                           	PUSH	59
   341 000002A6 56                              	PUSH	ESI
   342 000002A7 6A 03                           	PUSH	3
   343 000002A9 6A 07                           	PUSH	7
   344 000002AB FF 75 0C                        	PUSH	DWORD [12+EBP]
   345 000002AE FF 75 08                        	PUSH	DWORD [8+EBP]
   346 000002B1 E8 FFFFFF3A                     	CALL	_boxfill8
   347 000002B6 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   348 000002B9 83 C4 38                        	ADD	ESP,56
   349 000002BC 83 E8 04                        	SUB	EAX,4
   350 000002BF 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   351 000002C2 50                              	PUSH	EAX
   352 000002C3 6A 02                           	PUSH	2
   353 000002C5 56                              	PUSH	ESI
   354 000002C6 6A 02                           	PUSH	2
   355 000002C8 6A 07                           	PUSH	7
   356 000002CA FF 75 0C                        	PUSH	DWORD [12+EBP]
   357 000002CD FF 75 08                        	PUSH	DWORD [8+EBP]
   358 000002D0 E8 FFFFFF1B                     	CALL	_boxfill8
   359 000002D5 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   360 000002D8 6A 3B                           	PUSH	59
   361 000002DA FF 75 F0                        	PUSH	DWORD [-16+EBP]
   362 000002DD 6A 03                           	PUSH	3
   363 000002DF 6A 0F                           	PUSH	15
   364 000002E1 FF 75 0C                        	PUSH	DWORD [12+EBP]
   365 000002E4 FF 75 08                        	PUSH	DWORD [8+EBP]
   366 000002E7 E8 FFFFFF04                     	CALL	_boxfill8
   367 000002EC 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   368 000002EF 83 C4 38                        	ADD	ESP,56
   369 000002F2 83 E8 05                        	SUB	EAX,5
   370 000002F5 50                              	PUSH	EAX
   371 000002F6 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   372 000002F9 6A 3B                           	PUSH	59
   373 000002FB 83 E8 17                        	SUB	EAX,23
   374 000002FE 50                              	PUSH	EAX
   375 000002FF 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   376 00000302 6A 3B                           	PUSH	59
   377 00000304 6A 0F                           	PUSH	15
   378 00000306 FF 75 0C                        	PUSH	DWORD [12+EBP]
   379 00000309 FF 75 08                        	PUSH	DWORD [8+EBP]
   380 0000030C E8 FFFFFEDF                     	CALL	_boxfill8
   381 00000311 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   382 00000314 83 E8 03                        	SUB	EAX,3
   383 00000317 50                              	PUSH	EAX
   384 00000318 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   385 0000031B 6A 3B                           	PUSH	59
   386 0000031D 50                              	PUSH	EAX
   387 0000031E 6A 02                           	PUSH	2
   388 00000320 6A 00                           	PUSH	0
   389 00000322 FF 75 0C                        	PUSH	DWORD [12+EBP]
   390 00000325 FF 75 08                        	PUSH	DWORD [8+EBP]
   391 00000328 E8 FFFFFEC3                     	CALL	_boxfill8
   392 0000032D 83 C4 38                        	ADD	ESP,56
   393 00000330 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   394 00000333 6A 3C                           	PUSH	60
   395 00000335 56                              	PUSH	ESI
   396 00000336 6A 3C                           	PUSH	60
   397 00000338 6A 00                           	PUSH	0
   398 0000033A FF 75 0C                        	PUSH	DWORD [12+EBP]
   399 0000033D FF 75 08                        	PUSH	DWORD [8+EBP]
   400 00000340 E8 FFFFFEAB                     	CALL	_boxfill8
   401 00000345 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   402 00000348 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   403 0000034B 56                              	PUSH	ESI
   404 0000034C 83 EB 04                        	SUB	EBX,4
   405 0000034F 83 EF 2F                        	SUB	EDI,47
   406 00000352 53                              	PUSH	EBX
   407 00000353 56                              	PUSH	ESI
   408 00000354 57                              	PUSH	EDI
   409 00000355 6A 0F                           	PUSH	15
   410 00000357 FF 75 0C                        	PUSH	DWORD [12+EBP]
   411 0000035A FF 75 08                        	PUSH	DWORD [8+EBP]
   412 0000035D E8 FFFFFE8E                     	CALL	_boxfill8
   413 00000362 83 C4 38                        	ADD	ESP,56
   414 00000365 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   415 00000368 57                              	PUSH	EDI
   416 00000369 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   417 0000036C 57                              	PUSH	EDI
   418 0000036D 6A 0F                           	PUSH	15
   419 0000036F FF 75 0C                        	PUSH	DWORD [12+EBP]
   420 00000372 FF 75 08                        	PUSH	DWORD [8+EBP]
   421 00000375 E8 FFFFFE76                     	CALL	_boxfill8
   422 0000037A FF 75 E8                        	PUSH	DWORD [-24+EBP]
   423 0000037D 53                              	PUSH	EBX
   424 0000037E FF 75 E8                        	PUSH	DWORD [-24+EBP]
   425 00000381 57                              	PUSH	EDI
   426 00000382 6A 07                           	PUSH	7
   427 00000384 FF 75 0C                        	PUSH	DWORD [12+EBP]
   428 00000387 FF 75 08                        	PUSH	DWORD [8+EBP]
   429 0000038A E8 FFFFFE61                     	CALL	_boxfill8
   430 0000038F 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   431 00000392 83 C4 38                        	ADD	ESP,56
   432 00000395 83 E8 03                        	SUB	EAX,3
   433 00000398 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   434 0000039B 50                              	PUSH	EAX
   435 0000039C 56                              	PUSH	ESI
   436 0000039D 50                              	PUSH	EAX
   437 0000039E 6A 07                           	PUSH	7
   438 000003A0 FF 75 0C                        	PUSH	DWORD [12+EBP]
   439 000003A3 FF 75 08                        	PUSH	DWORD [8+EBP]
   440 000003A6 E8 FFFFFE45                     	CALL	_boxfill8
   441 000003AB 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   442 000003AE 5B                              	POP	EBX
   443 000003AF 5E                              	POP	ESI
   444 000003B0 5F                              	POP	EDI
   445 000003B1 5D                              	POP	EBP
   446 000003B2 C3                              	RET
   447 000003B3                                 	GLOBAL	_putfont8
   448 000003B3                                 _putfont8:
   449 000003B3 55                              	PUSH	EBP
   450 000003B4 89 E5                           	MOV	EBP,ESP
   451 000003B6 57                              	PUSH	EDI
   452 000003B7 56                              	PUSH	ESI
   453 000003B8 31 F6                           	XOR	ESI,ESI
   454 000003BA 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   455 000003BD 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   456 000003C0 89 F8                           	MOV	EAX,EDI
   457 000003C2 53                              	PUSH	EBX
   458 000003C3 0F AF 45 14                     	IMUL	EAX,DWORD [20+EBP]
   459 000003C7 03 55 08                        	ADD	EDX,DWORD [8+EBP]
   460 000003CA 8A 5D 18                        	MOV	BL,BYTE [24+EBP]
   461 000003CD 01 C2                           	ADD	EDX,EAX
   462 000003CF                                 L44:
   463 000003CF 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   464 000003D2 8A 0C 06                        	MOV	CL,BYTE [ESI+EAX*1]
   465 000003D5 84 C9                           	TEST	CL,CL
   466 000003D7 79 02                           	JNS	L36
   467 000003D9 88 1A                           	MOV	BYTE [EDX],BL
   468 000003DB                                 L36:
   469 000003DB 88 C8                           	MOV	AL,CL
   470 000003DD 83 E0 40                        	AND	EAX,64
   471 000003E0 84 C0                           	TEST	AL,AL
   472 000003E2 74 03                           	JE	L37
   473 000003E4 88 5A 01                        	MOV	BYTE [1+EDX],BL
   474 000003E7                                 L37:
   475 000003E7 88 C8                           	MOV	AL,CL
   476 000003E9 83 E0 20                        	AND	EAX,32
   477 000003EC 84 C0                           	TEST	AL,AL
   478 000003EE 74 03                           	JE	L38
   479 000003F0 88 5A 02                        	MOV	BYTE [2+EDX],BL
   480 000003F3                                 L38:
   481 000003F3 88 C8                           	MOV	AL,CL
   482 000003F5 83 E0 10                        	AND	EAX,16
   483 000003F8 84 C0                           	TEST	AL,AL
   484 000003FA 74 03                           	JE	L39
   485 000003FC 88 5A 03                        	MOV	BYTE [3+EDX],BL
   486 000003FF                                 L39:
   487 000003FF 88 C8                           	MOV	AL,CL
   488 00000401 83 E0 08                        	AND	EAX,8
   489 00000404 84 C0                           	TEST	AL,AL
   490 00000406 74 03                           	JE	L40
   491 00000408 88 5A 04                        	MOV	BYTE [4+EDX],BL
   492 0000040B                                 L40:
   493 0000040B 88 C8                           	MOV	AL,CL
   494 0000040D 83 E0 04                        	AND	EAX,4
   495 00000410 84 C0                           	TEST	AL,AL
   496 00000412 74 03                           	JE	L41
   497 00000414 88 5A 05                        	MOV	BYTE [5+EDX],BL
   498 00000417                                 L41:
   499 00000417 88 C8                           	MOV	AL,CL
   500 00000419 83 E0 02                        	AND	EAX,2
   501 0000041C 84 C0                           	TEST	AL,AL
   502 0000041E 74 03                           	JE	L42
   503 00000420 88 5A 06                        	MOV	BYTE [6+EDX],BL
   504 00000423                                 L42:
   505 00000423 83 E1 01                        	AND	ECX,1
   506 00000426 84 C9                           	TEST	CL,CL
   507 00000428 74 03                           	JE	L43
   508 0000042A 88 5A 07                        	MOV	BYTE [7+EDX],BL
   509 0000042D                                 L43:
   510 0000042D 46                              	INC	ESI
   511 0000042E 01 FA                           	ADD	EDX,EDI
   512 00000430 83 FE 0F                        	CMP	ESI,15
   513 00000433 7E 9A                           	JLE	L44
   514 00000435 5B                              	POP	EBX
   515 00000436 5E                              	POP	ESI
   516 00000437 5F                              	POP	EDI
   517 00000438 5D                              	POP	EBP
   518 00000439 C3                              	RET
   519 0000043A                                 	GLOBAL	_putfonts8_asc
   520 0000043A                                 _putfonts8_asc:
   521 0000043A 55                              	PUSH	EBP
   522 0000043B 89 E5                           	MOV	EBP,ESP
   523 0000043D 57                              	PUSH	EDI
   524 0000043E 56                              	PUSH	ESI
   525 0000043F 53                              	PUSH	EBX
   526 00000440 50                              	PUSH	EAX
   527 00000441 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   528 00000444 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   529 00000447 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   530 0000044A 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   531 0000044D 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   532 00000450 80 3B 00                        	CMP	BYTE [EBX],0
   533 00000453 75 08                           	JNE	L52
   534 00000455                                 L54:
   535 00000455 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   536 00000458 5B                              	POP	EBX
   537 00000459 5E                              	POP	ESI
   538 0000045A 5F                              	POP	EDI
   539 0000045B 5D                              	POP	EBP
   540 0000045C C3                              	RET
   541 0000045D                                 L52:
   542 0000045D 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
   543 00000460 C1 E0 04                        	SAL	EAX,4
   544 00000463 43                              	INC	EBX
   545 00000464 05 [00000000]                   	ADD	EAX,_hankaku
   546 00000469 50                              	PUSH	EAX
   547 0000046A 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   548 0000046E 50                              	PUSH	EAX
   549 0000046F 57                              	PUSH	EDI
   550 00000470 56                              	PUSH	ESI
   551 00000471 83 C6 08                        	ADD	ESI,8
   552 00000474 FF 75 0C                        	PUSH	DWORD [12+EBP]
   553 00000477 FF 75 08                        	PUSH	DWORD [8+EBP]
   554 0000047A E8 FFFFFF34                     	CALL	_putfont8
   555 0000047F 83 C4 18                        	ADD	ESP,24
   556 00000482 80 3B 00                        	CMP	BYTE [EBX],0
   557 00000485 75 D6                           	JNE	L52
   558 00000487 EB CC                           	JMP	L54
   559                                          [SECTION .data]
   560 00000062                                 _cursor.1:
   561 00000062 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**************  "
       0000006C 2A 2A 2A 2A 20 20 
   562 00000072 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOOO*   "
       0000007C 4F 4F 2A 20 20 20 
   563 00000082 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOO*    "
       0000008C 4F 2A 20 20 20 20 
   564 00000092 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOO*     "
       0000009C 2A 20 20 20 20 20 
   565 000000A2 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*      "
       000000AC 20 20 20 20 20 20 
   566 000000B2 2A 4F 4F 4F 4F 4F 4F 4F 2A 20   	DB	"*OOOOOOO*       "
       000000BC 20 20 20 20 20 20 
   567 000000C2 2A 4F 4F 4F 4F 4F 4F 4F 2A 20   	DB	"*OOOOOOO*       "
       000000CC 20 20 20 20 20 20 
   568 000000D2 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*      "
       000000DC 20 20 20 20 20 20 
   569 000000E2 2A 4F 4F 4F 4F 2A 2A 4F 4F 4F   	DB	"*OOOO**OOO*     "
       000000EC 2A 20 20 20 20 20 
   570 000000F2 2A 4F 4F 4F 2A 20 20 2A 4F 4F   	DB	"*OOO*  *OOO*    "
       000000FC 4F 2A 20 20 20 20 
   571 00000102 2A 4F 4F 2A 20 20 20 20 2A 4F   	DB	"*OO*    *OOO*   "
       0000010C 4F 4F 2A 20 20 20 
   572 00000112 2A 4F 2A 20 20 20 20 20 20 2A   	DB	"*O*      *OOO*  "
       0000011C 4F 4F 4F 2A 20 20 
   573 00000122 2A 2A 20 20 20 20 20 20 20 20   	DB	"**        *OOO* "
       0000012C 2A 4F 4F 4F 2A 20 
   574 00000132 2A 20 20 20 20 20 20 20 20 20   	DB	"*          *OOO*"
       0000013C 20 2A 4F 4F 4F 2A 
   575 00000142 20 20 20 20 20 20 20 20 20 20   	DB	"            *OO*"
       0000014C 20 20 2A 4F 4F 2A 
   576 00000152 20 20 20 20 20 20 20 20 20 20   	DB	"             ***"
       0000015C 20 20 20 2A 2A 2A 
   577                                          [SECTION .text]
   578 00000489                                 	GLOBAL	_init_mouse_cursor8
   579 00000489                                 _init_mouse_cursor8:
   580 00000489 55                              	PUSH	EBP
   581 0000048A 89 E5                           	MOV	EBP,ESP
   582 0000048C 57                              	PUSH	EDI
   583 0000048D 56                              	PUSH	ESI
   584 0000048E 31 F6                           	XOR	ESI,ESI
   585 00000490 53                              	PUSH	EBX
   586 00000491 31 DB                           	XOR	EBX,EBX
   587 00000493 50                              	PUSH	EAX
   588 00000494 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   589 00000497 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   590 0000049A 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   591 0000049D                                 L69:
   592 0000049D 31 C9                           	XOR	ECX,ECX
   593 0000049F                                 L68:
   594 0000049F 8D 04 19                        	LEA	EAX,DWORD [ECX+EBX*1]
   595 000004A2 8A 90 [00000062]                	MOV	DL,BYTE [_cursor.1+EAX]
   596 000004A8 80 FA 2A                        	CMP	DL,42
   597 000004AB 74 26                           	JE	L74
   598 000004AD 80 FA 4F                        	CMP	DL,79
   599 000004B0 74 1B                           	JE	L75
   600 000004B2 8A 55 F3                        	MOV	DL,BYTE [-13+EBP]
   601 000004B5 88 14 38                        	MOV	BYTE [EAX+EDI*1],DL
   602 000004B8                                 L62:
   603 000004B8 41                              	INC	ECX
   604 000004B9 83 F9 0F                        	CMP	ECX,15
   605 000004BC 7E E1                           	JLE	L68
   606 000004BE 46                              	INC	ESI
   607 000004BF 83 C3 10                        	ADD	EBX,16
   608 000004C2 83 FE 0F                        	CMP	ESI,15
   609 000004C5 7E D6                           	JLE	L69
   610 000004C7 58                              	POP	EAX
   611 000004C8 5B                              	POP	EBX
   612 000004C9 5E                              	POP	ESI
   613 000004CA 5F                              	POP	EDI
   614 000004CB 5D                              	POP	EBP
   615 000004CC C3                              	RET
   616 000004CD                                 L75:
   617 000004CD C6 04 38 07                     	MOV	BYTE [EAX+EDI*1],7
   618 000004D1 EB E5                           	JMP	L62
   619 000004D3                                 L74:
   620 000004D3 C6 04 38 00                     	MOV	BYTE [EAX+EDI*1],0
   621 000004D7 EB DF                           	JMP	L62
   622 000004D9                                 	GLOBAL	_putblock8_8
   623 000004D9                                 _putblock8_8:
   624 000004D9 55                              	PUSH	EBP
   625 000004DA 89 E5                           	MOV	EBP,ESP
   626 000004DC 57                              	PUSH	EDI
   627 000004DD 56                              	PUSH	ESI
   628 000004DE 31 F6                           	XOR	ESI,ESI
   629 000004E0 53                              	PUSH	EBX
   630 000004E1 83 EC 0C                        	SUB	ESP,12
   631 000004E4 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   632 000004E7 7D 3E                           	JGE	L88
   633 000004E9 31 FF                           	XOR	EDI,EDI
   634 000004EB                                 L86:
   635 000004EB 31 DB                           	XOR	EBX,EBX
   636 000004ED 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   637 000004F0 7D 2C                           	JGE	L90
   638 000004F2 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   639 000004F5 01 F8                           	ADD	EAX,EDI
   640 000004F7 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   641 000004FA                                 L85:
   642 000004FA 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   643 000004FD 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   644 00000500 01 F0                           	ADD	EAX,ESI
   645 00000502 01 DA                           	ADD	EDX,EBX
   646 00000504 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   647 00000508 01 D0                           	ADD	EAX,EDX
   648 0000050A 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   649 0000050D 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   650 00000510 43                              	INC	EBX
   651 00000511 8A 12                           	MOV	DL,BYTE [EDX]
   652 00000513 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   653 00000516 FF 45 EC                        	INC	DWORD [-20+EBP]
   654 00000519 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   655 0000051C 7C DC                           	JL	L85
   656 0000051E                                 L90:
   657 0000051E 46                              	INC	ESI
   658 0000051F 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   659 00000522 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   660 00000525 7C C4                           	JL	L86
   661 00000527                                 L88:
   662 00000527 83 C4 0C                        	ADD	ESP,12
   663 0000052A 5B                              	POP	EBX
   664 0000052B 5E                              	POP	ESI
   665 0000052C 5F                              	POP	EDI
   666 0000052D 5D                              	POP	EBP
   667 0000052E C3                              	RET
   668 0000052F                                 	GLOBAL	_init_gdtidt
   669 0000052F                                 _init_gdtidt:
   670 0000052F 55                              	PUSH	EBP
   671 00000530 89 E5                           	MOV	EBP,ESP
   672 00000532 56                              	PUSH	ESI
   673 00000533 53                              	PUSH	EBX
   674 00000534 BE 00270000                     	MOV	ESI,2555904
   675 00000539 BB 00001FFF                     	MOV	EBX,8191
   676 0000053E                                 L96:
   677 0000053E 6A 00                           	PUSH	0
   678 00000540 6A 00                           	PUSH	0
   679 00000542 6A 00                           	PUSH	0
   680 00000544 56                              	PUSH	ESI
   681 00000545 83 C6 08                        	ADD	ESI,8
   682 00000548 E8 0000007B                     	CALL	_set_segmdesc
   683 0000054D 83 C4 10                        	ADD	ESP,16
   684 00000550 4B                              	DEC	EBX
   685 00000551 79 EB                           	JNS	L96
   686 00000553 68 00004092                     	PUSH	16530
   687 00000558 BE 0026F800                     	MOV	ESI,2553856
   688 0000055D 6A 00                           	PUSH	0
   689 0000055F BB 000000FF                     	MOV	EBX,255
   690 00000564 6A FF                           	PUSH	-1
   691 00000566 68 00270008                     	PUSH	2555912
   692 0000056B E8 00000058                     	CALL	_set_segmdesc
   693 00000570 68 0000409A                     	PUSH	16538
   694 00000575 68 00280000                     	PUSH	2621440
   695 0000057A 68 0007FFFF                     	PUSH	524287
   696 0000057F 68 00270010                     	PUSH	2555920
   697 00000584 E8 0000003F                     	CALL	_set_segmdesc
   698 00000589 83 C4 20                        	ADD	ESP,32
   699 0000058C 68 00270000                     	PUSH	2555904
   700 00000591 68 0000FFFF                     	PUSH	65535
   701 00000596 E8 [00000000]                   	CALL	_load_gdtr
   702 0000059B 58                              	POP	EAX
   703 0000059C 5A                              	POP	EDX
   704 0000059D                                 L101:
   705 0000059D 6A 00                           	PUSH	0
   706 0000059F 6A 00                           	PUSH	0
   707 000005A1 6A 00                           	PUSH	0
   708 000005A3 56                              	PUSH	ESI
   709 000005A4 83 C6 08                        	ADD	ESI,8
   710 000005A7 E8 00000066                     	CALL	_set_gatesedc
   711 000005AC 83 C4 10                        	ADD	ESP,16
   712 000005AF 4B                              	DEC	EBX
   713 000005B0 79 EB                           	JNS	L101
   714 000005B2 68 0026F800                     	PUSH	2553856
   715 000005B7 68 000007FF                     	PUSH	2047
   716 000005BC E8 [00000000]                   	CALL	_load_idtr
   717 000005C1 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   718 000005C4 5B                              	POP	EBX
   719 000005C5 5E                              	POP	ESI
   720 000005C6 5D                              	POP	EBP
   721 000005C7 C3                              	RET
   722 000005C8                                 	GLOBAL	_set_segmdesc
   723 000005C8                                 _set_segmdesc:
   724 000005C8 55                              	PUSH	EBP
   725 000005C9 89 E5                           	MOV	EBP,ESP
   726 000005CB 53                              	PUSH	EBX
   727 000005CC 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   728 000005CF 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   729 000005D2 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   730 000005D5 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   731 000005D8 81 FA 00FFFFFF                  	CMP	EDX,16777215
   732 000005DE 76 08                           	JBE	L107
   733 000005E0 C1 EA 0C                        	SHR	EDX,12
   734 000005E3 0D 00008000                     	OR	EAX,32768
   735 000005E8                                 L107:
   736 000005E8 66 89 13                        	MOV	WORD [EBX],DX
   737 000005EB 88 43 05                        	MOV	BYTE [5+EBX],AL
   738 000005EE C1 EA 10                        	SHR	EDX,16
   739 000005F1 C1 F8 08                        	SAR	EAX,8
   740 000005F4 83 E2 0F                        	AND	EDX,15
   741 000005F7 66 89 4B 02                     	MOV	WORD [2+EBX],CX
   742 000005FB 83 E0 F0                        	AND	EAX,-16
   743 000005FE C1 F9 10                        	SAR	ECX,16
   744 00000601 09 C2                           	OR	EDX,EAX
   745 00000603 88 4B 04                        	MOV	BYTE [4+EBX],CL
   746 00000606 88 53 06                        	MOV	BYTE [6+EBX],DL
   747 00000609 C1 F9 08                        	SAR	ECX,8
   748 0000060C 88 4B 07                        	MOV	BYTE [7+EBX],CL
   749 0000060F 5B                              	POP	EBX
   750 00000610 5D                              	POP	EBP
   751 00000611 C3                              	RET
   752 00000612                                 	GLOBAL	_set_gatesedc
   753 00000612                                 _set_gatesedc:
   754 00000612 55                              	PUSH	EBP
   755 00000613 89 E5                           	MOV	EBP,ESP
   756 00000615 53                              	PUSH	EBX
   757 00000616 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   758 00000619 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   759 0000061C 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   760 0000061F 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   761 00000622 66 89 42 02                     	MOV	WORD [2+EDX],AX
   762 00000626 88 5A 05                        	MOV	BYTE [5+EDX],BL
   763 00000629 66 89 0A                        	MOV	WORD [EDX],CX
   764 0000062C 89 D8                           	MOV	EAX,EBX
   765 0000062E C1 F8 08                        	SAR	EAX,8
   766 00000631 C1 F9 10                        	SAR	ECX,16
   767 00000634 88 42 04                        	MOV	BYTE [4+EDX],AL
   768 00000637 66 89 4A 06                     	MOV	WORD [6+EDX],CX
   769 0000063B 5B                              	POP	EBX
   770 0000063C 5D                              	POP	EBP
   771 0000063D C3                              	RET
